<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2016-10-02 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20161002" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Lightweight RDF Annotations &#x2013; Lightweight RDF Annotations</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

          <meta prefix="og: http://ogp.me/ns#" property="og:title" content="OSF RDF Utilities"/>
        <meta prefix="og: http://ogp.me/ns#" property="og:url" content="http://emetsger.github.io/osf-rdf/"/>
        <meta prefix="og: http://ogp.me/ns#" property="og:type" content="website"/>
        <meta prefix="og: http://ogp.me/ns#" property="og:image" content="images/dc-logo.gif"/>
        <meta prefix="og: http://ogp.me/ns#" property="og:image:type" content="image/gif"/>
                    
      
   <!-- 
     relativePath: .
     faviconUrl:   images/dc-favico.png
     PathTool.calculateLink: images/dc-favico.png
   -->

              
    <!-- favicon -->
    <link rel="icon" type="image/png" href="images/dc-favico.png"/>
    </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://dataconservancy.org" id="bannerLeft" title="Data Conservancy Home Page">
                   <!-- 
             relativePath: .
             banner.src:   images/dc-logo.gif
             PathTool.calculateLink: images/dc-logo.gif
           -->
                                                                                                <img src="images/dc-logo.gif"  alt="Data Conservancy Home Page"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2016-10-02
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.0.3-SNAPSHOT
                      </li>
                      
              
      
                                    
    <li class="pull-right">
                      <a href="" title="Home">
        Home</a>
      </li>

                    </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                              
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="license.html" title="Project License">
          <span class="none"></span>
        Project License</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Repository">
          <span class="none"></span>
        Source Repository</a>
            </li>
              </ul>
        </li>
                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Lightweight_RDF_Annotations"></a>Lightweight RDF Annotations</h2>
<p>The <a href="rdf-annotations">rdf-annotations module</a> provides support for mapping Java classes and member fields to OWL RDF. </p>

<ul>
  
<li><a class="externalLink" href="http://emetsger.github.io/osf-rdf/1.0.0-SNAPSHOT/">Homepage</a></li>
  
<li><a class="externalLink" href="http://emetsger.github.io/osf-rdf/1.0.0-SNAPSHOT/apidocs/index.html">Javadoc</a></li>
</ul></div>
<div class="section">
<h2><a name="Shortcomings"></a>Shortcomings</h2>
<p>This library is a work-in-progress, and does not cover every imaginable use case when mapping Java domain models to RDF. Furthermore, this library supports a specific domain model and is not generally applicable to arbitrary domains. Finally, if the developer does not have access to the source code of the model being annotated, this annotation module is not very useful at this point, due to limitations on where the annotated elements may appear (e.g. a <tt>@OwlIndividual</tt> is a class-level annotation only).</p></div>
<div class="section">
<h2><a name="Annotations"></a>Annotations</h2>
<p>This library currently provides the following annotations:</p>

<ul>
  
<li><tt>@OwlIndividual</tt>: annotates Java classes. Instances of the annotated Java class will be mapped to OWL individuals. The value of the <i>annotation</i> specifies the OWL class of the individual.</li>
  
<li><tt>@IndividualId</tt>: annotates Java fields. The value of the <i>annotated field</i> will be used as the RDF resource identifier of the enclosing <tt>@OwlIndividual</tt>. Classes annotated with <tt>@OwlIndividual</tt> are expected to have <i>exactly one</i> member annotated with <tt>@IndividualId</tt>.</li>
  
<li><tt>@OwlProperty</tt>: annotates Java fields. Annotated fields will be mapped to OWL properties. The value of the <i>annotation</i> specifies the OWL property used, and indicates whether it is an OWL Datatype or Object property. The subject of the OWL property will be the enclosing <tt>@OwlIndividual</tt>, and the object of the OWL property will be the value of the <i>annotated field</i>. Classes annotated with <tt>@OwlIndividual</tt> may have <i>zero or more</i> members annotated with <tt>@OwlProperty</tt>.</li>
  
<li><tt>@AnonIndividual</tt>: annotates Java fields. Instances of the <i>annotated field</i> will be mapped to OWL anonymous individuals. The value of the <i>annotation</i> specifies the OWL class of the individual. Classes annotated with <tt>@AnonIndividual</tt> are expected to be annotated with <tt>@OwlProperty</tt> which determines the property used to relate the enclosing <tt>@OwlIndividual</tt> to the <tt>@AnonIndividual</tt>.</li>
</ul></div>
<div class="section">
<h2><a name="Transforms"></a>Transforms</h2>
<p>Fields annotated with <tt>@IndividualId</tt> and <tt>@OwlProperty</tt> may be transformed according to a <tt>FunctionalInterface</tt> specified by the <tt>transform</tt> attribute. Annotation processors are expected to instantiate the class specified by the <tt>transform</tt> attribute and <tt>apply(..)</tt> it to the prior to RDF serialization.</p>
<div class="section">
<h3><a name="Transformation_Use_Cases"></a>Transformation Use Cases</h3>
<p>Transforms have a number of use cases: </p>

<ul>
  
<li>Type mapping: if your Java model represents timestamps using a Joda DateTime object, you can use a transformation function to convert it to a Java Calendar instance which will be typed as an xsd:dateTime type in the RDF model.</li>
  
<li>Decoding: if your Java model encodes identifiers using full URLs, you can use a transformation function to decode the unique id from the URL and use it as a RDF resource identifier.</li>
  
<li>Hash URIs: if you would rather identify your resources using hash URIs, you can use a transformation function to produce a hash URI</li>
</ul></div>
<div class="section">
<h3><a name="aOwlProperty_transformation_modality"></a><tt>@OwlProperty</tt> transformation modality</h3>
<p>Transformer classes that are annotated as <tt>mode = TransformMode.FIELD</tt> will be applied to the value of the annotated field. That is, the argument <tt>t</tt> for <tt>apply(T t)</tt> will be the value of the annotated field.</p>
<p>Transformer classes that are annotated as <tt>mode = TransformMode.CLASS</tt> will be applied to the value of instance of the class that declares the annotated field. In the example below, the <tt>ProviderIdTransform</tt> is a class transform, so it receives an instance of the class that declares the annotated field. The argument <tt>t</tt> for <tt>apply(T t)</tt> will be the instance of the class declaring the annotated field, in this example, a <tt>File</tt>.</p>

<div class="source">
<div class="source"><pre class="prettyprint">public class File {

  @OwlProperty(value = OwlProperties.OSF_HAS_ID, transform = ProviderIdTransform.class, mode = TransformMode.CLASS)
  private String id;
  
  private String provider;
  
  // ...
}

public class ProviderIdTransform implements Function&lt;File, String&gt; {
  @Override
  String apply(File f) {
    return f.getProvider() + &quot;:&quot; f.getId();
  }
}
</pre></div></div>
<p>Please note that only the <tt>@OwlProperty</tt> has a transformation modality.</p></div>
<div class="section">
<h3><a name="aIndividualUri_transforms_with_BiFunction"></a><tt>@IndividualUri</tt> transforms with BiFunction</h3>
<p>The <tt>@IndividualUri</tt> does not have modalities like <tt>@OwlProperty</tt>. Instead, transformations are performed using a <tt>BiFunction</tt>. </p>
<p>The arguments supplied to the <tt>BiFunction</tt> are the instance of the object that has the OWL individual as a member, and the instance of the OWL individual that has this field as an annotated member.</p>
<p>Given the following domain model (getters and setters elided for brevity): ```java @OwlIndividual public class Book {  @IndividualUri  String bookTitle = &#x201c;Moby Dick&#x201d;;  List&lt;Chapter&gt; chapters; }</p>
<p>@OwlIndividual public class Chapter {  @IndividualUri  Integer chapterNo = 1;  List&lt;Page&gt; pages; }</p>
<p>@OwlIndividual public class Page {  @IndividualUri  Integer pageId = 1; } ```</p>
<p>The transform for <tt>bookTitle</tt> will receive as arguments <tt>null</tt> and an instance of <tt>Book</tt>. The transform for <tt>chapterNo</tt> will receive as arguments an instance of <tt>Book</tt> and an instance of <tt>Chapter</tt>. Finally, the transform for <tt>pageNo</tt> will receive an instance of <tt>Chapter</tt> and an instance of <tt>Page</tt>. In each case, the default transformation will return the String value of the annotated field: &#x201c;Moby Dick&#x201d;, &#x201c;1&#x201d;, and &#x201c;1&#x201d; for the Book, Chapter, and Page respectively.</p>
<p>Suppose you wanted RDF resource identifiers for a <tt>Page</tt> to be hash URIs on <tt>Chapter</tt> instances:</p>

<div class="source">
<div class="source"><pre class="prettyprint"> &lt;1&gt;       a ex:Chapter .  # A Chapter individual with RDF resource ID &quot;1&quot;
 &lt;1#page1&gt; a ex:Page .     # A Page individual with RDF resource ID &quot;1#page1&quot;
 &lt;1#page2&gt; a ex:Page .     # ... with resource ID &quot;1#page2&quot;
</pre></div></div>
<p>A custom transform for the <tt>Page</tt> <tt>@IndividualUri</tt> would <tt>accept(Chapter t, Page u)</tt> and return the <tt>String</tt> <tt>1#page1</tt> and <tt>1#page2</tt>, and so on, for each <tt>Page</tt> instance.</p>
<p><a class="externalLink" href="https://travis-ci.org/emetsger/osf-rdf"><img src="https://travis-ci.org/emetsger/osf-rdf.svg?branch=master" alt="Build Status" /></a></p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2010&#x2013;2016
                        <a href="http://dataconservancy.org">Data Conservancy</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
